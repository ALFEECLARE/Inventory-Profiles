package io.github.jsnimda.common.input

import org.lwjgl.glfw.GLFW

@Suppress("MemberVisibilityCanBePrivate")
object KeyCodes {
  const val KEY_UNKNOWN        = GLFW.GLFW_KEY_UNKNOWN
  const val KEY_SPACE          = GLFW.GLFW_KEY_SPACE
  const val KEY_APOSTROPHE     = GLFW.GLFW_KEY_APOSTROPHE
  const val KEY_COMMA          = GLFW.GLFW_KEY_COMMA
  const val KEY_MINUS          = GLFW.GLFW_KEY_MINUS
  const val KEY_PERIOD         = GLFW.GLFW_KEY_PERIOD
  const val KEY_SLASH          = GLFW.GLFW_KEY_SLASH
  const val KEY_0              = GLFW.GLFW_KEY_0
  const val KEY_1              = GLFW.GLFW_KEY_1
  const val KEY_2              = GLFW.GLFW_KEY_2
  const val KEY_3              = GLFW.GLFW_KEY_3
  const val KEY_4              = GLFW.GLFW_KEY_4
  const val KEY_5              = GLFW.GLFW_KEY_5
  const val KEY_6              = GLFW.GLFW_KEY_6
  const val KEY_7              = GLFW.GLFW_KEY_7
  const val KEY_8              = GLFW.GLFW_KEY_8
  const val KEY_9              = GLFW.GLFW_KEY_9
  const val KEY_SEMICOLON      = GLFW.GLFW_KEY_SEMICOLON
  const val KEY_EQUAL          = GLFW.GLFW_KEY_EQUAL
  const val KEY_A              = GLFW.GLFW_KEY_A
  const val KEY_B              = GLFW.GLFW_KEY_B
  const val KEY_C              = GLFW.GLFW_KEY_C
  const val KEY_D              = GLFW.GLFW_KEY_D
  const val KEY_E              = GLFW.GLFW_KEY_E
  const val KEY_F              = GLFW.GLFW_KEY_F
  const val KEY_G              = GLFW.GLFW_KEY_G
  const val KEY_H              = GLFW.GLFW_KEY_H
  const val KEY_I              = GLFW.GLFW_KEY_I
  const val KEY_J              = GLFW.GLFW_KEY_J
  const val KEY_K              = GLFW.GLFW_KEY_K
  const val KEY_L              = GLFW.GLFW_KEY_L
  const val KEY_M              = GLFW.GLFW_KEY_M
  const val KEY_N              = GLFW.GLFW_KEY_N
  const val KEY_O              = GLFW.GLFW_KEY_O
  const val KEY_P              = GLFW.GLFW_KEY_P
  const val KEY_Q              = GLFW.GLFW_KEY_Q
  const val KEY_R              = GLFW.GLFW_KEY_R
  const val KEY_S              = GLFW.GLFW_KEY_S
  const val KEY_T              = GLFW.GLFW_KEY_T
  const val KEY_U              = GLFW.GLFW_KEY_U
  const val KEY_V              = GLFW.GLFW_KEY_V
  const val KEY_W              = GLFW.GLFW_KEY_W
  const val KEY_X              = GLFW.GLFW_KEY_X
  const val KEY_Y              = GLFW.GLFW_KEY_Y
  const val KEY_Z              = GLFW.GLFW_KEY_Z
  const val KEY_LEFT_BRACKET   = GLFW.GLFW_KEY_LEFT_BRACKET
  const val KEY_BACKSLASH      = GLFW.GLFW_KEY_BACKSLASH
  const val KEY_RIGHT_BRACKET  = GLFW.GLFW_KEY_RIGHT_BRACKET
  const val KEY_GRAVE_ACCENT   = GLFW.GLFW_KEY_GRAVE_ACCENT
  const val KEY_WORLD_1        = GLFW.GLFW_KEY_WORLD_1
  const val KEY_WORLD_2        = GLFW.GLFW_KEY_WORLD_2
  const val KEY_ESCAPE         = GLFW.GLFW_KEY_ESCAPE
  const val KEY_ENTER          = GLFW.GLFW_KEY_ENTER
  const val KEY_TAB            = GLFW.GLFW_KEY_TAB
  const val KEY_BACKSPACE      = GLFW.GLFW_KEY_BACKSPACE
  const val KEY_INSERT         = GLFW.GLFW_KEY_INSERT
  const val KEY_DELETE         = GLFW.GLFW_KEY_DELETE
  const val KEY_RIGHT          = GLFW.GLFW_KEY_RIGHT
  const val KEY_LEFT           = GLFW.GLFW_KEY_LEFT
  const val KEY_DOWN           = GLFW.GLFW_KEY_DOWN
  const val KEY_UP             = GLFW.GLFW_KEY_UP
  const val KEY_PAGE_UP        = GLFW.GLFW_KEY_PAGE_UP
  const val KEY_PAGE_DOWN      = GLFW.GLFW_KEY_PAGE_DOWN
  const val KEY_HOME           = GLFW.GLFW_KEY_HOME
  const val KEY_END            = GLFW.GLFW_KEY_END
  const val KEY_CAPS_LOCK      = GLFW.GLFW_KEY_CAPS_LOCK
  const val KEY_SCROLL_LOCK    = GLFW.GLFW_KEY_SCROLL_LOCK
  const val KEY_NUM_LOCK       = GLFW.GLFW_KEY_NUM_LOCK
  const val KEY_PRINT_SCREEN   = GLFW.GLFW_KEY_PRINT_SCREEN
  const val KEY_PAUSE          = GLFW.GLFW_KEY_PAUSE
  const val KEY_F1             = GLFW.GLFW_KEY_F1
  const val KEY_F2             = GLFW.GLFW_KEY_F2
  const val KEY_F3             = GLFW.GLFW_KEY_F3
  const val KEY_F4             = GLFW.GLFW_KEY_F4
  const val KEY_F5             = GLFW.GLFW_KEY_F5
  const val KEY_F6             = GLFW.GLFW_KEY_F6
  const val KEY_F7             = GLFW.GLFW_KEY_F7
  const val KEY_F8             = GLFW.GLFW_KEY_F8
  const val KEY_F9             = GLFW.GLFW_KEY_F9
  const val KEY_F10            = GLFW.GLFW_KEY_F10
  const val KEY_F11            = GLFW.GLFW_KEY_F11
  const val KEY_F12            = GLFW.GLFW_KEY_F12
  const val KEY_F13            = GLFW.GLFW_KEY_F13
  const val KEY_F14            = GLFW.GLFW_KEY_F14
  const val KEY_F15            = GLFW.GLFW_KEY_F15
  const val KEY_F16            = GLFW.GLFW_KEY_F16
  const val KEY_F17            = GLFW.GLFW_KEY_F17
  const val KEY_F18            = GLFW.GLFW_KEY_F18
  const val KEY_F19            = GLFW.GLFW_KEY_F19
  const val KEY_F20            = GLFW.GLFW_KEY_F20
  const val KEY_F21            = GLFW.GLFW_KEY_F21
  const val KEY_F22            = GLFW.GLFW_KEY_F22
  const val KEY_F23            = GLFW.GLFW_KEY_F23
  const val KEY_F24            = GLFW.GLFW_KEY_F24
  const val KEY_F25            = GLFW.GLFW_KEY_F25
  const val KEY_KP_0           = GLFW.GLFW_KEY_KP_0
  const val KEY_KP_1           = GLFW.GLFW_KEY_KP_1
  const val KEY_KP_2           = GLFW.GLFW_KEY_KP_2
  const val KEY_KP_3           = GLFW.GLFW_KEY_KP_3
  const val KEY_KP_4           = GLFW.GLFW_KEY_KP_4
  const val KEY_KP_5           = GLFW.GLFW_KEY_KP_5
  const val KEY_KP_6           = GLFW.GLFW_KEY_KP_6
  const val KEY_KP_7           = GLFW.GLFW_KEY_KP_7
  const val KEY_KP_8           = GLFW.GLFW_KEY_KP_8
  const val KEY_KP_9           = GLFW.GLFW_KEY_KP_9
  const val KEY_KP_DECIMAL     = GLFW.GLFW_KEY_KP_DECIMAL
  const val KEY_KP_DIVIDE      = GLFW.GLFW_KEY_KP_DIVIDE
  const val KEY_KP_MULTIPLY    = GLFW.GLFW_KEY_KP_MULTIPLY
  const val KEY_KP_SUBTRACT    = GLFW.GLFW_KEY_KP_SUBTRACT
  const val KEY_KP_ADD         = GLFW.GLFW_KEY_KP_ADD
  const val KEY_KP_ENTER       = GLFW.GLFW_KEY_KP_ENTER
  const val KEY_KP_EQUAL       = GLFW.GLFW_KEY_KP_EQUAL
  const val KEY_LEFT_SHIFT     = GLFW.GLFW_KEY_LEFT_SHIFT
  const val KEY_LEFT_CONTROL   = GLFW.GLFW_KEY_LEFT_CONTROL
  const val KEY_LEFT_ALT       = GLFW.GLFW_KEY_LEFT_ALT
  const val KEY_LEFT_SUPER     = GLFW.GLFW_KEY_LEFT_SUPER
  const val KEY_RIGHT_SHIFT    = GLFW.GLFW_KEY_RIGHT_SHIFT
  const val KEY_RIGHT_CONTROL  = GLFW.GLFW_KEY_RIGHT_CONTROL
  const val KEY_RIGHT_ALT      = GLFW.GLFW_KEY_RIGHT_ALT
  const val KEY_RIGHT_SUPER    = GLFW.GLFW_KEY_RIGHT_SUPER
  const val KEY_MENU           = GLFW.GLFW_KEY_MENU
  const val KEY_LAST           = GLFW.GLFW_KEY_LAST

  const val MOUSE_BUTTON_1 = GLFW.GLFW_MOUSE_BUTTON_1 - 100
  const val MOUSE_BUTTON_2 = GLFW.GLFW_MOUSE_BUTTON_2 - 100
  const val MOUSE_BUTTON_3 = GLFW.GLFW_MOUSE_BUTTON_3 - 100
  const val MOUSE_BUTTON_4 = GLFW.GLFW_MOUSE_BUTTON_4 - 100
  const val MOUSE_BUTTON_5 = GLFW.GLFW_MOUSE_BUTTON_5 - 100
  const val MOUSE_BUTTON_6 = GLFW.GLFW_MOUSE_BUTTON_6 - 100
  const val MOUSE_BUTTON_7 = GLFW.GLFW_MOUSE_BUTTON_7 - 100
  const val MOUSE_BUTTON_8 = GLFW.GLFW_MOUSE_BUTTON_8 - 100

  private val KEY_TO_NAME_MAP = mutableMapOf<Int, String>()
  private val NAME_TO_KEY_MAP = mutableMapOf<String, Int>()
  private val NAME_TO_DISPLAY_TEXT_MAP = mutableMapOf<String, String>()

  private fun mapKeyName(name: String, displayText: String?, key: Int) {
    if (key !in KEY_TO_NAME_MAP) {
      KEY_TO_NAME_MAP[key] = name
    }
    if (name !in NAME_TO_KEY_MAP) {
      NAME_TO_KEY_MAP[name] = key
    }
    if (name !in NAME_TO_DISPLAY_TEXT_MAP) {
      NAME_TO_DISPLAY_TEXT_MAP[name] = if (displayText.isNullOrEmpty()) name else displayText
    }
  }

  fun getKeyName(key: Int): String {
    return KEY_TO_NAME_MAP.getOrDefault(key, "keycode $key")
  }

  fun getKeyFromName(name: String): Int {
    return NAME_TO_KEY_MAP.getOrDefault(name, -1)
  }

  fun getFriendlyName(name: String): String {
    return NAME_TO_DISPLAY_TEXT_MAP.getOrDefault(name, name)
  }

  fun getFriendlyName(key: Int): String {
    return getFriendlyName(getKeyName(key))
  }

  init {
    mapKeyName("UNKNOWN"      , null            , KEY_UNKNOWN)
    mapKeyName("SPACE"        , "Space"         , KEY_SPACE)
    mapKeyName("APOSTROPHE"   , "'"             , KEY_APOSTROPHE)
    mapKeyName("COMMA"        , ","             , KEY_COMMA)
    mapKeyName("MINUS"        , "-"             , KEY_MINUS)
    mapKeyName("PERIOD"       , "."             , KEY_PERIOD)
    mapKeyName("SLASH"        , "/"             , KEY_SLASH)
    mapKeyName("0"            , "0"             , KEY_0)
    mapKeyName("1"            , "1"             , KEY_1)
    mapKeyName("2"            , "2"             , KEY_2)
    mapKeyName("3"            , "3"             , KEY_3)
    mapKeyName("4"            , "4"             , KEY_4)
    mapKeyName("5"            , "5"             , KEY_5)
    mapKeyName("6"            , "6"             , KEY_6)
    mapKeyName("7"            , "7"             , KEY_7)
    mapKeyName("8"            , "8"             , KEY_8)
    mapKeyName("9"            , "9"             , KEY_9)
    mapKeyName("SEMICOLON"    , ";"             , KEY_SEMICOLON)
    mapKeyName("EQUAL"        , "="             , KEY_EQUAL)
    mapKeyName("A"            , "a"             , KEY_A)
    mapKeyName("B"            , "b"             , KEY_B)
    mapKeyName("C"            , "c"             , KEY_C)
    mapKeyName("D"            , "d"             , KEY_D)
    mapKeyName("E"            , "e"             , KEY_E)
    mapKeyName("F"            , "f"             , KEY_F)
    mapKeyName("G"            , "g"             , KEY_G)
    mapKeyName("H"            , "h"             , KEY_H)
    mapKeyName("I"            , "i"             , KEY_I)
    mapKeyName("J"            , "j"             , KEY_J)
    mapKeyName("K"            , "k"             , KEY_K)
    mapKeyName("L"            , "l"             , KEY_L)
    mapKeyName("M"            , "m"             , KEY_M)
    mapKeyName("N"            , "n"             , KEY_N)
    mapKeyName("O"            , "o"             , KEY_O)
    mapKeyName("P"            , "p"             , KEY_P)
    mapKeyName("Q"            , "q"             , KEY_Q)
    mapKeyName("R"            , "r"             , KEY_R)
    mapKeyName("S"            , "s"             , KEY_S)
    mapKeyName("T"            , "t"             , KEY_T)
    mapKeyName("U"            , "u"             , KEY_U)
    mapKeyName("V"            , "v"             , KEY_V)
    mapKeyName("W"            , "w"             , KEY_W)
    mapKeyName("X"            , "x"             , KEY_X)
    mapKeyName("Y"            , "y"             , KEY_Y)
    mapKeyName("Z"            , "z"             , KEY_Z)
    mapKeyName("LEFT_BRACKET" , "["             , KEY_LEFT_BRACKET)
    mapKeyName("BACKSLASH"    , "\\"            , KEY_BACKSLASH)
    mapKeyName("RIGHT_BRACKET", "]"             , KEY_RIGHT_BRACKET)
    mapKeyName("GRAVE_ACCENT" , "`"             , KEY_GRAVE_ACCENT)
    mapKeyName("WORLD_1"      , null            , KEY_WORLD_1)
    mapKeyName("WORLD_2"      , null            , KEY_WORLD_2)
    mapKeyName("ESCAPE"       , "Esc"           , KEY_ESCAPE)
    mapKeyName("ENTER"        , "Enter"         , KEY_ENTER)
    mapKeyName("TAB"          , "Tab"           , KEY_TAB)
    mapKeyName("BACKSPACE"    , "Backspace"     , KEY_BACKSPACE)
    mapKeyName("INSERT"       , "Insert"        , KEY_INSERT)
    mapKeyName("DELETE"       , "Delete"        , KEY_DELETE)
    mapKeyName("RIGHT"        , "Right"         , KEY_RIGHT)
    mapKeyName("LEFT"         , "Left"          , KEY_LEFT)
    mapKeyName("DOWN"         , "Down"          , KEY_DOWN)
    mapKeyName("UP"           , "Up"            , KEY_UP)
    mapKeyName("PAGE_UP"      , "Page Up"       , KEY_PAGE_UP)
    mapKeyName("PAGE_DOWN"    , "Page Down"     , KEY_PAGE_DOWN)
    mapKeyName("HOME"         , "Home"          , KEY_HOME)
    mapKeyName("END"          , "End"           , KEY_END)
    mapKeyName("CAPS_LOCK"    , "Caps Lock"     , KEY_CAPS_LOCK)
    mapKeyName("SCROLL_LOCK"  , "Scroll Lock"   , KEY_SCROLL_LOCK)
    mapKeyName("NUM_LOCK"     , "Num Lock"      , KEY_NUM_LOCK)
    mapKeyName("PRINT_SCREEN" , "Print Screen"  , KEY_PRINT_SCREEN)
    mapKeyName("PAUSE"        , "Pause"         , KEY_PAUSE)
    mapKeyName("F1"           , "F1"            , KEY_F1)
    mapKeyName("F2"           , "F2"            , KEY_F2)
    mapKeyName("F3"           , "F3"            , KEY_F3)
    mapKeyName("F4"           , "F4"            , KEY_F4)
    mapKeyName("F5"           , "F5"            , KEY_F5)
    mapKeyName("F6"           , "F6"            , KEY_F6)
    mapKeyName("F7"           , "F7"            , KEY_F7)
    mapKeyName("F8"           , "F8"            , KEY_F8)
    mapKeyName("F9"           , "F9"            , KEY_F9)
    mapKeyName("F10"          , "F10"           , KEY_F10)
    mapKeyName("F11"          , "F11"           , KEY_F11)
    mapKeyName("F12"          , "F12"           , KEY_F12)
    mapKeyName("F13"          , null            , KEY_F13)
    mapKeyName("F14"          , null            , KEY_F14)
    mapKeyName("F15"          , null            , KEY_F15)
    mapKeyName("F16"          , null            , KEY_F16)
    mapKeyName("F17"          , null            , KEY_F17)
    mapKeyName("F18"          , null            , KEY_F18)
    mapKeyName("F19"          , null            , KEY_F19)
    mapKeyName("F20"          , null            , KEY_F20)
    mapKeyName("F21"          , null            , KEY_F21)
    mapKeyName("F22"          , null            , KEY_F22)
    mapKeyName("F23"          , null            , KEY_F23)
    mapKeyName("F24"          , null            , KEY_F24)
    mapKeyName("F25"          , null            , KEY_F25)
    mapKeyName("KP_0"         , "Numpad 0"      , KEY_KP_0)
    mapKeyName("KP_1"         , "Numpad 1"      , KEY_KP_1)
    mapKeyName("KP_2"         , "Numpad 2"      , KEY_KP_2)
    mapKeyName("KP_3"         , "Numpad 3"      , KEY_KP_3)
    mapKeyName("KP_4"         , "Numpad 4"      , KEY_KP_4)
    mapKeyName("KP_5"         , "Numpad 5"      , KEY_KP_5)
    mapKeyName("KP_6"         , "Numpad 6"      , KEY_KP_6)
    mapKeyName("KP_7"         , "Numpad 7"      , KEY_KP_7)
    mapKeyName("KP_8"         , "Numpad 8"      , KEY_KP_8)
    mapKeyName("KP_9"         , "Numpad 9"      , KEY_KP_9)
    mapKeyName("KP_DECIMAL"   , "Numpad ."      , KEY_KP_DECIMAL)
    mapKeyName("KP_DIVIDE"    , "Numpad /"      , KEY_KP_DIVIDE)
    mapKeyName("KP_MULTIPLY"  , "Numpad *"      , KEY_KP_MULTIPLY)
    mapKeyName("KP_SUBTRACT"  , "Numpad -"      , KEY_KP_SUBTRACT)
    mapKeyName("KP_ADD"       , "Numpad +"      , KEY_KP_ADD)
    mapKeyName("KP_ENTER"     , "Numpad Enter"  , KEY_KP_ENTER)
    mapKeyName("KP_EQUAL"     , null            , KEY_KP_EQUAL)
    mapKeyName("LEFT_SHIFT"   , "Left Shift"    , KEY_LEFT_SHIFT)
    mapKeyName("LEFT_CONTROL" , "Left Ctrl"     , KEY_LEFT_CONTROL)
    mapKeyName("LEFT_ALT"     , "Left Alt"      , KEY_LEFT_ALT)
    mapKeyName("LEFT_SUPER"   , "Left Win"      , KEY_LEFT_SUPER)
    mapKeyName("RIGHT_SHIFT"  , "Right Shift"   , KEY_RIGHT_SHIFT)
    mapKeyName("RIGHT_CONTROL", "Right Ctrl"    , KEY_RIGHT_CONTROL)
    mapKeyName("RIGHT_ALT"    , "Right Alt"     , KEY_RIGHT_ALT)
    mapKeyName("RIGHT_SUPER"  , "Right Win"     , KEY_RIGHT_SUPER)
    mapKeyName("MENU"         , "Menu"          , KEY_MENU)
    mapKeyName("LAST"         , null            , KEY_LAST)
    mapKeyName("BUTTON_1"     , "Left Button"   , MOUSE_BUTTON_1)
    mapKeyName("BUTTON_2"     , "Right Button"  , MOUSE_BUTTON_2)
    mapKeyName("BUTTON_3"     , "Middle Button" , MOUSE_BUTTON_3)
    mapKeyName("BUTTON_4"     , "Back Button"   , MOUSE_BUTTON_4)
    mapKeyName("BUTTON_5"     , "Forward Button", MOUSE_BUTTON_5)
    mapKeyName("BUTTON_6"     , null            , MOUSE_BUTTON_6)
    mapKeyName("BUTTON_7"     , null            , MOUSE_BUTTON_7)
    mapKeyName("BUTTON_8"     , null            , MOUSE_BUTTON_8)
  }
}